<div class="card admin-product-card h-100 position-relative">
  <!-- Special offer badge -->
  <div *ngIf="product.specialOffer" class="badge bg-danger position-absolute top-0 start-0 m-2">
    {{ product.specialOffer }}% OFF
  </div>

  <!-- Image wrapper -->
  <div class="img-wrap p-2 bg-light rounded">
    <img [src]="product.image" class="card-img-top product-image"alt="{{ product.name }}">
  </div>

  <!-- Card body -->
  <div class="card-body d-flex flex-column justify-content-between">
  <div class="mb-3 text-start">
    <h6 class="card-title">{{ product.name }}</h6>
    <h6 class="text-primary mb-1">
      R{{ getDiscountedPrice(product.price, product.specialOffer) | number:'1.2-2' }}
    </h6>
    <p *ngIf="product.specialOffer" class="text-muted small text-decoration-line-through mb-0">
      R{{ product.price }}
    </p>

    <!-- View More / Collapse Button -->
    <button class="btn btn-link p-0 small" (click)="toggleDetails()">
      {{ showDetails ? 'Hide Details ▲' : 'View More ▼' }}
    </button>

    <!-- Hidden Details Section -->
    <div *ngIf="showDetails" class="mt-2 small text-muted">
      <p><strong>Name:</strong> {{ product.name }}</p>
      <p><strong>Phone Number:</strong> {{ product.phoneNumber }}</p>
      <p><strong>Color:</strong> {{ product.color || 'N/A' }}</p>
      <p><strong>Quantity:</strong> {{ product.quantity }}</p>
      <p><strong>Description:</strong> {{ product.description || 'No description' }}</p>
    </div>
  </div>



    <!-- Admin buttons -->
    <div class="d-flex justify-content-between mt-auto">
      <button class="btn btn-sm btn-primary" (click)="editProduct()">Edit</button>
      <button class="btn btn-sm btn-danger" (click)="deleteProduct()">Delete</button>
    </div>
  </div>
</div>