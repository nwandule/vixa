<div class="p-5">
  <div class="head-wrap p-3 mb-4">
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
      <h3 class="mb-3 mb-md-0">My Orders</h3>
      <input 
        type="text" 
        class="form-control w-100 w-md-25" 
        placeholder="Search Orders"
        [(ngModel)]="searchQuery"
        (ngModelChange)="onSearchChange($event)">
    </div>
  </div>

  <div class="row g-3 justify-content-start">
    <div class="col-sm-6 col-md-4 col-lg-2" *ngFor="let order of orders; let i = index">
      <div class="card shadow-sm h-100 p-2 text-center" 
           style="font-size: 0.8rem; max-height: 380px; max-width: 220px; margin: auto; overflow-y: auto;">
        
        <img *ngIf="order.image" 
             [src]="order.image" 
             class="card-img-top mx-auto mt-2" 
             alt="Order Image" 
             style="width:45px; height:45px; object-fit:cover; border-radius:50%;">
        
        <div class="card-body p-2 text-start">
          <h6 class="card-title mb-2 text-center fw-semibold">{{ order.name || 'N/A' }}</h6>
          <p class="card-text mb-1"><strong>First Name:</strong> {{ order.firstName }}</p>
          <p class="card-text mb-1"><strong>Phone:</strong> {{ order.phoneNumber }}</p>
          <p class="card-text mb-1"><strong>Color:</strong> {{ order.color }}</p>
          <p class="card-text mb-1"><strong>Quantity:</strong> {{ order.quantity }}</p>
          <p class="card-text mb-1"><strong>Price:</strong> <span class="text-success fw-bold">R{{ order.price }}</span></p>
          <p class="card-text mb-1"><strong>Description:</strong> {{ order.description || 'N/A' }}</p>
          <p class="card-text mb-0"><strong>Date:</strong>  {{ order.orderDate | date:'dd MMM yyyy, HH:mm' }}</p>
        </div>

        <div class="card-footer bg-light p-2 text-center">
          <button class="btn btn-sm btn-outline-danger w-100" (click)="deleteOrder(order.id)">
            ðŸ—‘ Delete
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
